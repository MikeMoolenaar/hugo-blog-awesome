<div class="navbar" role="navigation">
  <nav class="menu" aria-label="Main Navigation">
    <a href="/" class="logo">
      {{ partial "svgs/home.svg" (dict "height" 25 "width" 25) . }}
    </a>
    <input type="checkbox" id="menu-trigger" class="menu-trigger" />
    {{ if .Site.Menus.main }}
    <label for="menu-trigger">
      <span class="menu-icon">
        {{ partial "svgs/menu.svg" (dict "height" 25 "width" 25) . }}
      </span>
    </label>
    {{ else }}
    {{ partial "theme-switcher.html" (dict "size" 25) . }}
    {{ end }}

    {{ if .Site.Menus.main }}
    <div class="trigger">
      <ul class="trigger-container">
        {{ $currentPage := . }}
        {{ range .Site.Menus.main }}
          <li>
            <a 
            class="menu-link {{ if or ($currentPage.IsMenuCurrent "main" .) ($currentPage.HasMenuCurrent "main" .) }}active{{ end }}"
            href="{{ .URL }}">
            {{ .Name }}
            </a>
            {{ if .HasChildren }}
              <ul>
                {{ range .Children }}
                  <li>
                    <a
                    class="menu-link {{ if $currentPage.IsMenuCurrent "main" . }}active{{ end }}"
                    href="{{ .URL }}">
                      {{ .Name }}
                    </a>
                  </li>
                {{ end }}
              </ul>
            {{ end }}
          </li>
        {{ end }}
        <li class="menu-separator">
          <span>|</span>
        </li>
      </ul>
      {{ partial "theme-switcher.html" (dict "size" 21) . }}
    </div>
    {{ end }}
  </nav>
</div>
